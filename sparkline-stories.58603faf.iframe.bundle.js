"use strict";(self.webpackChunk_scality_core_ui=self.webpackChunk_scality_core_ui||[]).push([[81384],{"./stories/sparkline.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ChartDemo:()=>ChartDemo,Default:()=>Default,MultiChartDmeo:()=>MultiChartDmeo,__namedExportsOrder:()=>__namedExportsOrder,default:()=>sparkline_stories});__webpack_require__("./node_modules/react/index.js");var VegaChart_component=__webpack_require__("./src/lib/components/vegachart/VegaChart.component.tsx"),theme=__webpack_require__("./src/lib/style/theme.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function SparkLine(_ref){var{id,title,width=300,height=80,data,xAxis,yAxis,row,lineConfig,sparkLineColor,upTrendColor=theme.Fn,bottomTrendColor=theme.wL}=_ref,spec={title:{text:title},data:{values:data},facet:{row},spec:{width,height,layer:[{mark:_objectSpread({type:"line"},lineConfig),encoding:{x:xAxis,y:yAxis,color:{value:sparkLineColor}}},{mark:{type:"text",style:"labelMin",align:"bottom",dy:height/2,dx:width/2+10},encoding:{text:{aggregate:"min",field:"y",type:"quantitative"}}},{mark:{type:"text",style:"labelMax",align:"top",dy:-height/2,dx:width/2+10},encoding:{text:{aggregate:"max",field:"y",type:"quantitative"}}},{mark:{type:"rule",style:"ruleMaxEnd",color:upTrendColor},encoding:{y:{aggregate:"max",field:"y",type:"quantitative"},x:{value:width-15},x2:{value:width}}},{mark:{type:"rule",style:"ruleMaxStart",color:upTrendColor,opacity:.1},encoding:{y:{aggregate:"max",field:"y",type:"quantitative"},x:{value:0},x2:{value:width-15}}},{mark:{type:"rule",style:"ruleMinEnd",color:bottomTrendColor},encoding:{y:{value:height},x:{value:width-15},x2:{value:width}}},{mark:{type:"rule",style:"ruleMinStart",color:bottomTrendColor,opacity:.1},encoding:{y:{value:height},x:{value:0},x2:{value:width-15}}}]}};return(0,jsx_runtime.jsx)(VegaChart_component.sD,{className:"sc-sparkline",id,spec})}SparkLine.displayName="SparkLine";var Sparkline=SparkLine;try{Sparkline.displayName="Sparkline",Sparkline.__docgenInfo={description:"",displayName:"Sparkline",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Record<string, any>[]"}},xAxis:{defaultValue:null,description:"",name:"xAxis",required:!0,type:{name:"Record<string, any>"}},yAxis:{defaultValue:null,description:"",name:"yAxis",required:!0,type:{name:"Record<string, any>"}},row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"Record<string, any>"}},lineConfig:{defaultValue:null,description:"",name:"lineConfig",required:!1,type:{name:"Record<string, any>"}},sparkLineColor:{defaultValue:null,description:"",name:"sparkLineColor",required:!1,type:{name:"string"}},upTrendColor:{defaultValue:null,description:"",name:"upTrendColor",required:!1,type:{name:"string"}},bottomTrendColor:{defaultValue:null,description:"",name:"bottomTrendColor",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/components/sparkline/SparkLine.component.tsx#Sparkline"]={docgenInfo:Sparkline.__docgenInfo,name:"Sparkline",path:"src/lib/components/sparkline/SparkLine.component.tsx#Sparkline"})}catch(__react_docgen_typescript_loader_error){}var data=[{date:"2019-10-10 00:00:00",y:33,symbol:"Operation per sec"},{date:"2019-10-10 01:00:00",y:100,symbol:"Operation per sec"},{date:"2019-10-10 02:00:00",y:103,symbol:"Operation per sec"},{date:"2019-10-10 03:00:00",y:350,symbol:"Operation per sec"},{date:"2019-10-10 04:00:00",y:225,symbol:"Operation per sec"},{date:"2019-10-10 05:00:00",y:124,symbol:"Operation per sec"},{date:"2019-10-10 06:00:00",y:248,symbol:"Operation per sec"},{date:"2019-10-10 07:00:00",y:99,symbol:"Operation per sec"}],multiLineData=[{date:"2019-10-10 00:00:00",y:33,symbol:"CPU"},{date:"2019-10-10 01:00:00",y:100,symbol:"CPU"},{date:"2019-10-10 02:00:00",y:103,symbol:"CPU"},{date:"2019-10-10 03:00:00",y:350,symbol:"CPU"},{date:"2019-10-10 04:00:00",y:225,symbol:"CPU"},{date:"2019-10-10 05:00:00",y:124,symbol:"CPU"},{date:"2019-10-10 06:00:00",y:248,symbol:"CPU"},{date:"2019-10-10 07:00:00",y:99,symbol:"CPU"},{date:"2019-10-10 00:00:00",y:33,symbol:"Load"},{date:"2019-10-10 01:00:00",y:100,symbol:"Load"},{date:"2019-10-10 02:00:00",y:103,symbol:"Load"},{date:"2019-10-10 03:00:00",y:350,symbol:"Load"},{date:"2019-10-10 04:00:00",y:225,symbol:"Load"},{date:"2019-10-10 05:00:00",y:124,symbol:"Load"},{date:"2019-10-10 06:00:00",y:248,symbol:"Load"},{date:"2019-10-10 07:00:00",y:99,symbol:"Load"},{date:"2019-10-10 00:00:00",y:33,symbol:"Memory"},{date:"2019-10-10 01:00:00",y:100,symbol:"Memory"},{date:"2019-10-10 02:00:00",y:103,symbol:"Memory"},{date:"2019-10-10 03:00:00",y:350,symbol:"Memory"},{date:"2019-10-10 04:00:00",y:225,symbol:"Memory"},{date:"2019-10-10 05:00:00",y:124,symbol:"Memory"},{date:"2019-10-10 06:00:00",y:248,symbol:"Memory"},{date:"2019-10-10 07:00:00",y:99,symbol:"Memory"}],common=__webpack_require__("./stories/common.tsx"),xAxis={field:"date",type:"temporal",axis:null},yAxis={field:"y",type:"quantitative",axis:{title:null,ticks:!1,labels:!1}},row={field:"symbol",type:"nominal",title:null,header:{labelAngle:0,labelAlign:"left"}},lineConfig={interpolate:"monotone"};const sparkline_stories={parameters:{storySource:{source:"import React from 'react';\nimport { Sparkline as SparkLine } from '../src/lib/components/sparkline/SparkLine.component';\nimport { data, multiLineData } from './data/sparklinechart';\nimport { Wrapper, Title } from './common';\nconst xAxis = {\n  field: 'date',\n  type: 'temporal',\n  axis: null,\n};\nconst yAxis = {\n  field: 'y',\n  type: 'quantitative',\n  axis: {\n    title: null,\n    ticks: false,\n    labels: false,\n  },\n};\nconst row = {\n  field: 'symbol',\n  type: 'nominal',\n  title: null,\n  // the header of the subplot\n  header: {\n    labelAngle: 0,\n    labelAlign: 'left',\n  },\n};\nconst id = 'vis';\nconst id_multi = 'multiVis';\nconst lineConfig = {\n  interpolate: 'monotone',\n};\nexport default {\n  title: 'Components/Data Display/Charts/SparkLine',\n  component: SparkLine,\n  args: {\n    xAxis,\n    yAxis,\n    row,\n  },\n};\n\nexport const ChartDemo = {\n  args: {\n    id,\n    data,\n    title: 'OPERATIONS BY SECONDS',\n    lineConfig,\n  },\n};\n\nexport const MultiChartDmeo = {\n  args: {\n    id: id_multi,\n    data: multiLineData,\n  },\n};\n\nexport const Default = {\n  render: ({}) => {\n    return (\n      <Wrapper>\n        <Title>Vege-Lite sparkline chart demo</Title>\n        <SparkLine\n          id={id}\n          data={data}\n          xAxis={xAxis}\n          yAxis={yAxis}\n          title={'OPERATIONS PER SECONDS'}\n          row={row}\n          lineConfig={lineConfig}\n        />\n        <Title>Vege-Lite sparkline multi chart demo</Title>\n        <SparkLine\n          id={id_multi}\n          data={multiLineData}\n          xAxis={xAxis}\n          yAxis={yAxis}\n          row={row}\n        />\n      </Wrapper>\n    );\n  },\n};\n",locationsMap:{"chart-demo":{startLoc:{col:25,line:44},endLoc:{col:1,line:51},startBody:{col:25,line:44},endBody:{col:1,line:51}},"multi-chart-dmeo":{startLoc:{col:30,line:53},endLoc:{col:1,line:58},startBody:{col:30,line:53},endBody:{col:1,line:58}},default:{startLoc:{col:23,line:60},endLoc:{col:1,line:85},startBody:{col:23,line:60},endBody:{col:1,line:85}}}}},title:"Components/Data Display/Charts/SparkLine",component:Sparkline,args:{xAxis,yAxis,row}};var ChartDemo={args:{id:"vis",data,title:"OPERATIONS BY SECONDS",lineConfig}},MultiChartDmeo={args:{id:"multiVis",data:multiLineData}},Default={render:_ref=>{var{}=_ref;return(0,jsx_runtime.jsxs)(common.mO,{children:[(0,jsx_runtime.jsx)(common.hE,{children:"Vege-Lite sparkline chart demo"}),(0,jsx_runtime.jsx)(Sparkline,{id:"vis",data,xAxis,yAxis,title:"OPERATIONS PER SECONDS",row,lineConfig}),(0,jsx_runtime.jsx)(common.hE,{children:"Vege-Lite sparkline multi chart demo"}),(0,jsx_runtime.jsx)(Sparkline,{id:"multiVis",data:multiLineData,xAxis,yAxis,row})]})}};ChartDemo.parameters={...ChartDemo.parameters,docs:{...ChartDemo.parameters?.docs,source:{originalSource:"{\n  args: {\n    id,\n    data,\n    title: 'OPERATIONS BY SECONDS',\n    lineConfig\n  }\n}",...ChartDemo.parameters?.docs?.source}}},MultiChartDmeo.parameters={...MultiChartDmeo.parameters,docs:{...MultiChartDmeo.parameters?.docs,source:{originalSource:"{\n  args: {\n    id: id_multi,\n    data: multiLineData\n  }\n}",...MultiChartDmeo.parameters?.docs?.source}}},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  render: ({}) => {\n    return <Wrapper>\n        <Title>Vege-Lite sparkline chart demo</Title>\n        <SparkLine id={id} data={data} xAxis={xAxis} yAxis={yAxis} title={'OPERATIONS PER SECONDS'} row={row} lineConfig={lineConfig} />\n        <Title>Vege-Lite sparkline multi chart demo</Title>\n        <SparkLine id={id_multi} data={multiLineData} xAxis={xAxis} yAxis={yAxis} row={row} />\n      </Wrapper>;\n  }\n}",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["ChartDemo","MultiChartDmeo","Default"]},"./src/lib/components/vegachart/VegaChart.component.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{sD:()=>VegaChart});var _templateObject,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),vega_embed__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/vega-embed/build/src/embed.js"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/lib/utils.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var TOP="top",BOTTOM="bottom",VegaTooltipTheme=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.DU)(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  #vg-tooltip-element.vg-tooltip.custom-theme {\n    padding: 8px;\n    position: fixed;\n    z-index: 1000;\n    font-family: 'Lato';\n    font-size: 12px;\n    border-radius: 3px;\n    box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n    color: ",";\n    background-color: ",";\n    border: 1px solid ",";\n    // customize the title\n    h2 {\n      color: ",";\n      margin-bottom: 10px;\n      font-size: 12px;\n    }\n  }\n"])),(0,_utils__WEBPACK_IMPORTED_MODULE_4__.sP)("textPrimary"),(0,_utils__WEBPACK_IMPORTED_MODULE_4__.sP)("backgroundLevel1"),(0,_utils__WEBPACK_IMPORTED_MODULE_4__.sP)("border"),(0,_utils__WEBPACK_IMPORTED_MODULE_4__.sP)("textSecondary"));function VegaChart(_ref){var{id,spec,tooltipPosition=BOTTOM,theme="custom"}=_ref,themeContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(styled_components__WEBPACK_IMPORTED_MODULE_3__.Dx),currentBackgroundColor=themeContext&&themeContext.brand?themeContext.brand.backgroundLevel4:themeContext.backgroundLevel4,currentBackgroundColor2=themeContext&&themeContext.brand?themeContext.brand.backgroundLevel1:themeContext.backgroundLevel1,brandText=themeContext&&themeContext.brand?themeContext.brand.textPrimary:themeContext.textPrimary,themeConfig={config:{background:currentBackgroundColor,axis:{labelColor:brandText,titleColor:brandText,grid:!1,domainColor:currentBackgroundColor2},title:{color:brandText,font:"Lato"},view:{stroke:"transparent",fill:currentBackgroundColor2},header:{labelColor:brandText},text:{color:brandText,font:"Lato"},rule:{color:brandText},legend:{labelColor:brandText,titleColor:brandText}}},themedSpec=_objectSpread(_objectSpread({},spec),themeConfig),vegaInstance=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),tooltipOptions={theme};return tooltipPosition===TOP&&(tooltipOptions={theme,offsetX:-85,offsetY:-140}),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{var isMounted=!0;return(0,vega_embed__WEBPACK_IMPORTED_MODULE_1__.Ay)("#".concat(id),themedSpec,{renderer:"svg",tooltip:tooltipOptions,actions:!1}).then((result=>{vegaInstance.current=result})).catch((function(){isMounted&&console.error(...arguments)})),()=>{isMounted=!1,vegaInstance.current&&vegaInstance.current.view.finalize()}}),[id,themedSpec,tooltipOptions,vegaInstance]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{id,className:"sc-vegachart",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(VegaTooltipTheme,{})})}VegaChart.displayName="VegaChart";try{VegaChart.displayName="VegaChart",VegaChart.__docgenInfo={description:"",displayName:"VegaChart",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},spec:{defaultValue:null,description:"",name:"spec",required:!0,type:{name:"Record<string, any>"}},tooltipPosition:{defaultValue:{value:"bottom"},description:"",name:"tooltipPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},theme:{defaultValue:{value:"custom"},description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:'"custom"'},{value:'"dark"'},{value:'"light"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/components/vegachart/VegaChart.component.tsx#VegaChart"]={docgenInfo:VegaChart.__docgenInfo,name:"VegaChart",path:"src/lib/components/vegachart/VegaChart.component.tsx#VegaChart"})}catch(__react_docgen_typescript_loader_error){}}}]);