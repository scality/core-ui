"use strict";(self.webpackChunk_scality_core_ui=self.webpackChunk_scality_core_ui||[]).push([[82376],{"./stories/attachment.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FailToLoad:()=>FailToLoad,Playground:()=>Playground,__namedExportsOrder:()=>__namedExportsOrder,default:()=>attachment_stories});var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,dist=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),react=__webpack_require__("./node_modules/react/index.js"),downshift_esm=__webpack_require__("./node_modules/downshift/dist/downshift.esm.js"),Tablev2_component=__webpack_require__("./src/lib/components/tablev2/Tablev2.component.tsx"),Box=__webpack_require__("./src/lib/components/box/Box.ts"),Buttonv2_component=__webpack_require__("./src/lib/components/buttonv2/Buttonv2.component.tsx"),SearchInput_component=__webpack_require__("./src/lib/components/searchinput/SearchInput.component.tsx"),Text_component=__webpack_require__("./src/lib/components/text/Text.component.tsx"),Constrainedtext_component=__webpack_require__("./src/lib/components/constrainedtext/Constrainedtext.component.tsx"),Icon_component=__webpack_require__("./src/lib/components/icon/Icon.component.tsx"),Tooltip_component=__webpack_require__("./src/lib/components/tooltip/Tooltip.component.tsx"),Loader_component=__webpack_require__("./src/lib/components/loader/Loader.component.tsx"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),spacing=__webpack_require__("./src/lib/spacing.tsx"),AttachmentAction=function(AttachmentAction){return AttachmentAction[AttachmentAction.ADD=0]="ADD",AttachmentAction[AttachmentAction.REMOVE=1]="REMOVE",AttachmentAction}({}),es=__webpack_require__("./node_modules/react-query/es/index.js"),TableUtils=__webpack_require__("./src/lib/components/tablev2/TableUtils.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var MenuContainer=styled_components_browser_esm.Ay.ul(_templateObject||(_templateObject=_taggedTemplateLiteral(["\n  background-color: ",";\n  background-clip: content-box;\n  padding: 0;\n  list-style: none;\n  position: absolute;\n  width: ",";\n  z-index: 1;\n  margin: 0;\n  ","\n  border-top: 0;\n  li {\n    padding: ",";\n    cursor: pointer;\n    border-top: 1px solid ",";\n    &[aria-selected='true'] {\n      background: ",";\n    }\n  }\n"])),(props=>props.theme.backgroundLevel1),(props=>props.width),(props=>props.isOpen?"\n      border-top-left-radius: 0;\n      border-top-right-radius: 0;\n      border-bottom-right-radius: 4px;\n      border-bottom-left-radius: 4px;\n      border: 1px solid ".concat(props.theme.selectedActive,";\n  "):props.searchInputIsFocused?"border-bottom: 1px solid ".concat(props.theme.selectedActive,";"):""),spacing.YK.r8,(props=>props.theme.backgroundLevel2),(props=>props.theme.highlight)),SearchBoxContainer=styled_components_browser_esm.Ay.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["\n  position: relative;\n  padding: ",";\n"])),spacing.YK.r16),StyledSearchInput=(0,styled_components_browser_esm.Ay)(SearchInput_component.D)(_templateObject3||(_templateObject3=_taggedTemplateLiteral(["\n  flex-grow: 1;\n\n  & > div:focus-within {\n    border-color: ",";\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n    border-bottom: 0;\n  }\n"])),(props=>props.theme.selectedActive)),CenterredSecondaryText=(styled_components_browser_esm.Ay.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral(["\n  height: 100%;\n"]))),(0,styled_components_browser_esm.Ay)(Text_component.m$)(_templateObject5||(_templateObject5=_taggedTemplateLiteral(["\n  display: block;\n  text-align: center;\n  line-height: ","rem;\n"])),TableUtils.an.h48)),PrivateAttachmentContext=(0,react.createContext)(null),AttachmentContext=(0,react.createContext)(null),AttachmentProvider=_ref=>{var{children}=_ref,[resetAttachmentTable,setResetAttachementTable]=(0,react.useState)(((_,__)=>{}));return(0,jsx_runtime.jsx)(PrivateAttachmentContext.Provider,{value:{setResetAttachementTable},children:(0,jsx_runtime.jsx)(AttachmentContext.Provider,{value:{resetAttachmentTable},children})})};AttachmentProvider.displayName="AttachmentProvider";var AttachmentTable=_ref2=>{var _filteredEntities$dat,_filteredEntities$dat2,_filteredEntities$dat3,_filteredEntities$dat4,_filteredEntities$dat5,_filteredEntities$dat6,_filteredEntities$dat7,_filteredEntities$dat8,_filteredEntities$dat9,_filteredEntities$dat10,{initiallyAttachedEntities,initiallyAttachedEntitiesStatus,initialAttachmentOperations,onAttachmentsOperationsChanged,entityName,searchEntityPlaceholder,getNameQuery,filteredEntities,onEntitySearchChange}=_ref2,privateAttachmentContext=(0,react.useContext)(PrivateAttachmentContext),exposedAttachmentContext=(0,react.useContext)(AttachmentContext);if(!privateAttachmentContext||!exposedAttachmentContext)throw new Error("Cannot use AttachmentTable outside AttachmentProvider");var convertInitiallyAttachedEntitiesToDesiredAttachedEntities=(0,react.useCallback)((function(initiallyAttachedEntities){var operations=arguments.length>1&&void 0!==arguments[1]?arguments[1]:initialAttachmentOperations;return initiallyAttachedEntities.filter((attachedEntities=>!operations.find((op=>op.entity.id===attachedEntities.id)))).map((entity=>_objectSpread(_objectSpread({},entity),{},{isPending:!1,action:null})))}),[initialAttachmentOperations]),convertInitiallyAttachementOperationsToDesiredAttachedEntities=(0,react.useCallback)((initialAttachmentOperations=>initialAttachmentOperations.filter((op=>op.action!==AttachmentAction.REMOVE)).map((op=>_objectSpread(_objectSpread({},op.entity),{},{isPending:!0,action:op.action})))),[]),[{desiredAttachedEntities,attachmentsOperations},dispatch]=(0,react.useReducer)(((state,action)=>{switch(action.action){case"RESET_DESIRED_ATTACHED_ENTITIES":return{desiredAttachedEntities:action.entities,attachmentsOperations:action.operations};case AttachmentAction.ADD:if(!state.desiredAttachedEntities.find((entity=>entity.id===action.entity.id))){var newAttachmentsOperations=[...state.attachmentsOperations],existingOperationIndexOnThisEntity=state.attachmentsOperations.findIndex((operation=>operation.entity.id===action.entity.id));return-1!==existingOperationIndexOnThisEntity&&state.attachmentsOperations[existingOperationIndexOnThisEntity].action===AttachmentAction.REMOVE?(newAttachmentsOperations.splice(existingOperationIndexOnThisEntity,1),_objectSpread(_objectSpread({},state),{},{desiredAttachedEntities:[_objectSpread({},action.entity),...state.desiredAttachedEntities],attachmentsOperations:[...newAttachmentsOperations]})):_objectSpread(_objectSpread({},state),{},{desiredAttachedEntities:[_objectSpread(_objectSpread({},action.entity),{},{isPending:!0}),...state.desiredAttachedEntities],attachmentsOperations:[...newAttachmentsOperations,action]})}break;case AttachmentAction.REMOVE:if(state.desiredAttachedEntities.find((entity=>entity.id===action.entity.id))){var newDesiredAttachedEntities=[...state.desiredAttachedEntities];newDesiredAttachedEntities.splice(state.desiredAttachedEntities.findIndex((entity=>entity.id===action.entity.id)),1);var _newAttachmentsOperations=[...state.attachmentsOperations],_existingOperationIndexOnThisEntity=state.attachmentsOperations.findIndex((operation=>operation.entity.id===action.entity.id));if(-1!==_existingOperationIndexOnThisEntity&&state.attachmentsOperations[_existingOperationIndexOnThisEntity].action===AttachmentAction.ADD)_newAttachmentsOperations.splice(_existingOperationIndexOnThisEntity,1);else{if(-1!==_existingOperationIndexOnThisEntity&&state.attachmentsOperations[_existingOperationIndexOnThisEntity].action===AttachmentAction.REMOVE)return state;_newAttachmentsOperations.push(action)}return _objectSpread(_objectSpread({},state),{},{desiredAttachedEntities:newDesiredAttachedEntities,attachmentsOperations:_newAttachmentsOperations})}}return state}),{desiredAttachedEntities:[...convertInitiallyAttachedEntitiesToDesiredAttachedEntities(initiallyAttachedEntities),...convertInitiallyAttachementOperationsToDesiredAttachedEntities(initialAttachmentOperations)],attachmentsOperations:initialAttachmentOperations});(0,react.useEffect)((()=>{onAttachmentsOperationsChanged(attachmentsOperations)}),[onAttachmentsOperationsChanged,attachmentsOperations]);var previousInitiallyAttachedEntitiesStatus=(0,react.useRef)(initiallyAttachedEntitiesStatus);(0,react.useMemo)((()=>{"success"===initiallyAttachedEntitiesStatus&&previousInitiallyAttachedEntitiesStatus.current!==initiallyAttachedEntitiesStatus?(previousInitiallyAttachedEntitiesStatus.current="success",dispatch({action:"RESET_DESIRED_ATTACHED_ENTITIES",entities:[...convertInitiallyAttachedEntitiesToDesiredAttachedEntities(initiallyAttachedEntities),...convertInitiallyAttachementOperationsToDesiredAttachedEntities(initialAttachmentOperations)],operations:initialAttachmentOperations})):previousInitiallyAttachedEntitiesStatus.current=initiallyAttachedEntitiesStatus}),[initiallyAttachedEntitiesStatus,initiallyAttachedEntities,initialAttachmentOperations,convertInitiallyAttachedEntitiesToDesiredAttachedEntities,convertInitiallyAttachementOperationsToDesiredAttachedEntities]),(0,react.useEffect)((()=>{privateAttachmentContext.setResetAttachementTable((()=>(newlyAttachedEntities,newAttachmentOperations)=>{dispatch({action:"RESET_DESIRED_ATTACHED_ENTITIES",entities:[...convertInitiallyAttachedEntitiesToDesiredAttachedEntities(newlyAttachedEntities,newAttachmentOperations),...convertInitiallyAttachementOperationsToDesiredAttachedEntities(newAttachmentOperations)],operations:newAttachmentOperations})}))}),[convertInitiallyAttachedEntitiesToDesiredAttachedEntities,convertInitiallyAttachementOperationsToDesiredAttachedEntities,dispatch]);var resetRef=(0,react.useRef)(null),searchInputRef=(0,react.useRef)(null),onSelectedItemChange=(0,react.useCallback)((onChangeParams=>{onChangeParams.selectedItem&&(dispatch({action:AttachmentAction.ADD,entity:onChangeParams.selectedItem}),resetRef.current&&resetRef.current(),searchInputRef.current&&searchInputRef.current.blur())}),[resetRef]),{isOpen,getMenuProps,getInputProps,openMenu,getItemProps,reset}=(0,downshift_esm.Bp)({items:"success"===filteredEntities.status?filteredEntities.data.entities:[],onSelectedItemChange,onInputValueChange:_ref3=>{var{inputValue}=_ref3;onEntitySearchChange(inputValue)}});(0,react.useMemo)((()=>{resetRef.current=reset}),[reset]);var[searchWidth,setSearchWidth]=(0,react.useState)("0px"),[searchInputIsFocused,setSearchInputIsFocused]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)(Tablev2_component.XI,{columns:[{Header:"Name",accessor:"name",cellStyle:{flex:1.5,marginRight:"1.5rem"},Cell:_ref4=>{var{value,row:{original:entity}}=_ref4,{data:asyncName,status}=(0,es.useQuery)(_objectSpread(_objectSpread({},getNameQuery?getNameQuery(entity):{queryKey:["fakeQuery"],queryFn:()=>value}),{},{enabled:!value}));return value?(0,jsx_runtime.jsx)(Constrainedtext_component.u,{text:value,lineClamp:2}):"error"===status?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["An error occured while loading ",entityName.singular," name"]}):"loading"===status||"idle"===status?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"Loading..."}):"success"===status&&asyncName?(0,jsx_runtime.jsx)(Constrainedtext_component.u,{text:asyncName,lineClamp:2}):(0,jsx_runtime.jsx)(Tablev2_component.KD,{})}},{Header:"Attachment",accessor:"isPending",cellStyle:{flex:.5},Cell:_ref5=>{var{value}=_ref5;return value?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"Pending"}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"Attached"})}},{Header:(0,jsx_runtime.jsx)(Box.a,{flex:.5}),accessor:"action",cellStyle:{textAlign:"right",flex:.5,marginLeft:"auto",marginRight:"0.5rem"},Cell:_ref6=>{var{row:{original:entity}}=_ref6;return(0,jsx_runtime.jsx)(Buttonv2_component.$n,{size:"inline",onClick:()=>{dispatch({action:AttachmentAction.REMOVE,entity:{name:entity.name,id:entity.id,type:entity.type}})},icon:(0,jsx_runtime.jsx)(Icon_component.In,{name:"Close"}),label:"Remove",variant:"danger",disabled:!!entity.disableDetach})}}],data:desiredAttachedEntities.map((entity=>_objectSpread(_objectSpread({},entity),{},{isPending:entity.isPending||!1,action:null}))),defaultSortingKey:"name",children:[(0,jsx_runtime.jsxs)(SearchBoxContainer,{ref:element=>{null!=element&&element.firstElementChild&&setSearchWidth(element.firstElementChild.getBoundingClientRect().width-2+"px")},children:["error"===filteredEntities.status?(0,jsx_runtime.jsx)(Tooltip_component.m_,{overlay:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"We failed to load the entities, hence search is disabled"}),children:(0,jsx_runtime.jsxs)(spacing.BJ,{children:[(0,jsx_runtime.jsx)(StyledSearchInput,_objectSpread(_objectSpread({autoComplete:"off",placeholder:searchEntityPlaceholder},getInputProps({ref:element=>{element&&(searchInputRef.current=element)}})),{},{onFocus:()=>{openMenu(),setSearchInputIsFocused(!0)},onBlur:()=>{setSearchInputIsFocused(!1)},disabled:"error"===filteredEntities.status})),(0,jsx_runtime.jsx)(Loader_component.a,{})]})}):(0,jsx_runtime.jsx)(StyledSearchInput,_objectSpread(_objectSpread({autoComplete:"off",placeholder:searchEntityPlaceholder},getInputProps({ref:element=>{element&&(searchInputRef.current=element)}})),{},{onFocus:()=>{openMenu(),setSearchInputIsFocused(!0)},onBlur:()=>{setSearchInputIsFocused(!1)},searchInputIsFocused})),(0,jsx_runtime.jsxs)(MenuContainer,_objectSpread(_objectSpread({},getMenuProps()),{},{width:searchWidth,isOpen,searchInputIsFocused,children:[isOpen&&"success"===filteredEntities.status&&(null===(_filteredEntities$dat=filteredEntities.data)||void 0===_filteredEntities$dat?void 0:_filteredEntities$dat.entities.map(((item,index)=>(0,jsx_runtime.jsx)("li",_objectSpread(_objectSpread({},getItemProps({item,index})),{},{children:(0,jsx_runtime.jsx)(Text_component.EY,{children:item.name})}),"".concat(item.id).concat(index))))),isOpen&&"loading"===filteredEntities.status&&(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)(Text_component.EY,{children:"Searching..."})}),isOpen&&"error"===filteredEntities.status&&(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)(Text_component.EY,{color:"statusCritical",children:"An error occured while searching"})}),isOpen&&"success"===filteredEntities.status&&((null===(_filteredEntities$dat2=filteredEntities.data)||void 0===_filteredEntities$dat2?void 0:_filteredEntities$dat2.number)||0)>(null===(_filteredEntities$dat3=filteredEntities.data)||void 0===_filteredEntities$dat3?void 0:_filteredEntities$dat3.entities.length)&&(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsxs)(Text_component.EY,{isGentleEmphazed:!0,color:"textSecondary",style:{textAlign:"right"},children:["There"," ",((null===(_filteredEntities$dat4=filteredEntities.data)||void 0===_filteredEntities$dat4?void 0:_filteredEntities$dat4.number)||0)-(null===(_filteredEntities$dat5=filteredEntities.data)||void 0===_filteredEntities$dat5?void 0:_filteredEntities$dat5.entities.length)==1?"is":"are"," ",((null===(_filteredEntities$dat6=filteredEntities.data)||void 0===_filteredEntities$dat6?void 0:_filteredEntities$dat6.number)||0)-(null===(_filteredEntities$dat7=filteredEntities.data)||void 0===_filteredEntities$dat7?void 0:_filteredEntities$dat7.entities.length)," ","more"," ",((null===(_filteredEntities$dat8=filteredEntities.data)||void 0===_filteredEntities$dat8?void 0:_filteredEntities$dat8.number)||0)-(null===(_filteredEntities$dat9=filteredEntities.data)||void 0===_filteredEntities$dat9?void 0:_filteredEntities$dat9.entities.length)==1?entityName.singular:entityName.plural," ","matching your search. Suggestion: try more specific search expression."]})}),isOpen&&"success"===filteredEntities.status&&0===(null===(_filteredEntities$dat10=filteredEntities.data)||void 0===_filteredEntities$dat10?void 0:_filteredEntities$dat10.entities.length)&&(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsxs)(Text_component.EY,{isGentleEmphazed:!0,color:"textSecondary",children:["No ",entityName.plural," found matching your search."]})})]}))]}),(0,jsx_runtime.jsx)(Tablev2_component.XI.SingleSelectableContent,{rowHeight:"h48",separationLineVariant:"backgroundLevel2",children:rows=>(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["idle"===initiallyAttachedEntitiesStatus||"loading"===initiallyAttachedEntitiesStatus?(0,jsx_runtime.jsxs)(spacing.B_,{style:{height:"".concat(TableUtils.an.h48,"rem")},children:[(0,jsx_runtime.jsx)("p",{}),(0,jsx_runtime.jsxs)(spacing.BJ,{children:[(0,jsx_runtime.jsx)(Loader_component.a,{}),(0,jsx_runtime.jsxs)(Text_component.EY,{children:["Loading ",entityName.plural,"..."]})]}),(0,jsx_runtime.jsx)("p",{})]}):"error"===initiallyAttachedEntitiesStatus?(0,jsx_runtime.jsxs)(spacing.BJ,{style:{justifyContent:"center",height:"".concat(TableUtils.an.h48,"rem")},children:[(0,jsx_runtime.jsx)(Icon_component.In,{name:"Exclamation-circle",color:"statusWarning"}),(0,jsx_runtime.jsxs)(Text_component.EY,{color:"textSecondary",children:["Failed to load attached ",entityName.plural,"."]})]}):0===desiredAttachedEntities.length&&(0,jsx_runtime.jsxs)(CenterredSecondaryText,{children:["No ",entityName.plural," attached"]}),desiredAttachedEntities.length>0&&rows]})})]})};AttachmentTable.displayName="AttachmentTable";try{AttachmentProvider.displayName="AttachmentProvider",AttachmentProvider.__docgenInfo={description:"",displayName:"AttachmentProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/organisms/attachments/AttachmentTable.tsx#AttachmentProvider"]={docgenInfo:AttachmentProvider.__docgenInfo,name:"AttachmentProvider",path:"src/lib/organisms/attachments/AttachmentTable.tsx#AttachmentProvider"})}catch(__react_docgen_typescript_loader_error){}try{AttachmentTable.displayName="AttachmentTable",AttachmentTable.__docgenInfo={description:"",displayName:"AttachmentTable",props:{initiallyAttachedEntities:{defaultValue:null,description:"",name:"initiallyAttachedEntities",required:!0,type:{name:"AttachableEntity<ENTITY_TYPE, ENTITY>[]"}},initiallyAttachedEntitiesStatus:{defaultValue:null,description:"",name:"initiallyAttachedEntitiesStatus",required:!0,type:{name:"enum",value:[{value:'"success"'},{value:'"error"'},{value:'"loading"'},{value:'"idle"'}]}},initialAttachmentOperations:{defaultValue:null,description:"",name:"initialAttachmentOperations",required:!0,type:{name:"AttachmentOperation<ENTITY_TYPE, ENTITY>[]"}},entityName:{defaultValue:null,description:"",name:"entityName",required:!0,type:{name:"{ plural: string; singular: string; }"}},getNameQuery:{defaultValue:null,description:"",name:"getNameQuery",required:!1,type:{name:"((entity: AttachableEntity<ENTITY_TYPE, ENTITY>) => UseQueryOptions<unknown, unknown, string, QueryKey>)"}},searchEntityPlaceholder:{defaultValue:null,description:"",name:"searchEntityPlaceholder",required:!0,type:{name:"string"}},onAttachmentsOperationsChanged:{defaultValue:null,description:"",name:"onAttachmentsOperationsChanged",required:!0,type:{name:"(attachmentOperations: AttachmentOperation<ENTITY_TYPE, ENTITY>[]) => void"}},filteredEntities:{defaultValue:null,description:"",name:"filteredEntities",required:!0,type:{name:'{ status: "idle"; } | { status: "error" | "loading"; data?: { number: number; entities: AttachableEntity<ENTITY_TYPE, ENTITY>[]; } | undefined; } | { ...; }'}},onEntitySearchChange:{defaultValue:null,description:"",name:"onEntitySearchChange",required:!0,type:{name:"(search?: string | undefined) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/organisms/attachments/AttachmentTable.tsx#AttachmentTable"]={docgenInfo:AttachmentTable.__docgenInfo,name:"AttachmentTable",path:"src/lib/organisms/attachments/AttachmentTable.tsx#AttachmentTable"})}catch(__react_docgen_typescript_loader_error){}const attachment_stories={parameters:{storySource:{source:"import { action } from '@storybook/addon-actions';\nimport React from 'react';\nimport {\n  AttachmentProvider,\n  AttachmentTable,\n} from '../src/lib/organisms/attachments/AttachmentTable';\n\nimport { Box } from '../src/lib/next';\nimport { useTheme } from 'styled-components';\n\nexport default {\n  title: 'Components/AttachmentTable',\n  component: AttachmentTable,\n};\n\nexport const Playground = {\n  render: () => {\n    const theme = useTheme();\n    return (\n      <Box\n        style={{ height: '100%', backgroundColor: theme.backgroundLevel4 }}\n        p={'2rem'}\n      >\n        <AttachmentProvider>\n          <AttachmentTable\n            entityName={{ plural: 'users', singular: 'user' }}\n            filteredEntities={{\n              status: 'success',\n              data: {\n                number: 1,\n                entities: [\n                  { name: 'User A', id: 'test', type: 'USER' },\n                  { name: 'User B', id: 'test', type: 'USER' },\n                  { name: 'User C', id: 'test', type: 'USER' },\n                ],\n              },\n            }}\n            initialAttachmentOperations={[]}\n            onEntitySearchChange={action('onEntitySearchChange')}\n            searchEntityPlaceholder=\"Search user by name\"\n            initiallyAttachedEntities={[\n              { name: 'User A', id: 'test', type: 'USER' },\n            ]}\n            initiallyAttachedEntitiesStatus={'success'}\n            onAttachmentsOperationsChanged={() => {\n              console.log('changed');\n            }}\n          />\n        </AttachmentProvider>\n      </Box>\n    );\n  },\n};\n\nexport const FailToLoad = {\n  render: () => {\n    const theme = useTheme();\n    return (\n      <Box\n        style={{ height: '100%', backgroundColor: theme.backgroundLevel4 }}\n        p={'2rem'}\n      >\n        <AttachmentProvider>\n          <AttachmentTable\n            entityName={{ plural: 'users', singular: 'user' }}\n            filteredEntities={{\n              status: 'error',\n            }}\n            initialAttachmentOperations={[]}\n            onEntitySearchChange={action('onEntitySearchChange')}\n            searchEntityPlaceholder=\"Search user by name\"\n            initiallyAttachedEntities={[]}\n            initiallyAttachedEntitiesStatus={'error'}\n            onAttachmentsOperationsChanged={() => {\n              console.log('changed');\n            }}\n          />\n        </AttachmentProvider>\n      </Box>\n    );\n  },\n};\n",locationsMap:{playground:{startLoc:{col:26,line:16},endLoc:{col:1,line:53},startBody:{col:26,line:16},endBody:{col:1,line:53}},"fail-to-load":{startLoc:{col:26,line:55},endLoc:{col:1,line:82},startBody:{col:26,line:55},endBody:{col:1,line:82}}}}},title:"Components/AttachmentTable",component:AttachmentTable};var Playground={render:()=>{var theme=(0,styled_components_browser_esm.DP)();return(0,jsx_runtime.jsx)(Box.a,{style:{height:"100%",backgroundColor:theme.backgroundLevel4},p:"2rem",children:(0,jsx_runtime.jsx)(AttachmentProvider,{children:(0,jsx_runtime.jsx)(AttachmentTable,{entityName:{plural:"users",singular:"user"},filteredEntities:{status:"success",data:{number:1,entities:[{name:"User A",id:"test",type:"USER"},{name:"User B",id:"test",type:"USER"},{name:"User C",id:"test",type:"USER"}]}},initialAttachmentOperations:[],onEntitySearchChange:(0,dist.XI)("onEntitySearchChange"),searchEntityPlaceholder:"Search user by name",initiallyAttachedEntities:[{name:"User A",id:"test",type:"USER"}],initiallyAttachedEntitiesStatus:"success",onAttachmentsOperationsChanged:()=>{console.log("changed")}})})})}},FailToLoad={render:()=>{var theme=(0,styled_components_browser_esm.DP)();return(0,jsx_runtime.jsx)(Box.a,{style:{height:"100%",backgroundColor:theme.backgroundLevel4},p:"2rem",children:(0,jsx_runtime.jsx)(AttachmentProvider,{children:(0,jsx_runtime.jsx)(AttachmentTable,{entityName:{plural:"users",singular:"user"},filteredEntities:{status:"error"},initialAttachmentOperations:[],onEntitySearchChange:(0,dist.XI)("onEntitySearchChange"),searchEntityPlaceholder:"Search user by name",initiallyAttachedEntities:[],initiallyAttachedEntitiesStatus:"error",onAttachmentsOperationsChanged:()=>{console.log("changed")}})})})}};Playground.parameters={...Playground.parameters,docs:{...Playground.parameters?.docs,source:{originalSource:"{\n  render: () => {\n    const theme = useTheme();\n    return <Box style={{\n      height: '100%',\n      backgroundColor: theme.backgroundLevel4\n    }} p={'2rem'}>\n        <AttachmentProvider>\n          <AttachmentTable entityName={{\n          plural: 'users',\n          singular: 'user'\n        }} filteredEntities={{\n          status: 'success',\n          data: {\n            number: 1,\n            entities: [{\n              name: 'User A',\n              id: 'test',\n              type: 'USER'\n            }, {\n              name: 'User B',\n              id: 'test',\n              type: 'USER'\n            }, {\n              name: 'User C',\n              id: 'test',\n              type: 'USER'\n            }]\n          }\n        }} initialAttachmentOperations={[]} onEntitySearchChange={action('onEntitySearchChange')} searchEntityPlaceholder=\"Search user by name\" initiallyAttachedEntities={[{\n          name: 'User A',\n          id: 'test',\n          type: 'USER'\n        }]} initiallyAttachedEntitiesStatus={'success'} onAttachmentsOperationsChanged={() => {\n          console.log('changed');\n        }} />\n        </AttachmentProvider>\n      </Box>;\n  }\n}",...Playground.parameters?.docs?.source}}},FailToLoad.parameters={...FailToLoad.parameters,docs:{...FailToLoad.parameters?.docs,source:{originalSource:"{\n  render: () => {\n    const theme = useTheme();\n    return <Box style={{\n      height: '100%',\n      backgroundColor: theme.backgroundLevel4\n    }} p={'2rem'}>\n        <AttachmentProvider>\n          <AttachmentTable entityName={{\n          plural: 'users',\n          singular: 'user'\n        }} filteredEntities={{\n          status: 'error'\n        }} initialAttachmentOperations={[]} onEntitySearchChange={action('onEntitySearchChange')} searchEntityPlaceholder=\"Search user by name\" initiallyAttachedEntities={[]} initiallyAttachedEntitiesStatus={'error'} onAttachmentsOperationsChanged={() => {\n          console.log('changed');\n        }} />\n        </AttachmentProvider>\n      </Box>;\n  }\n}",...FailToLoad.parameters?.docs?.source}}};const __namedExportsOrder=["Playground","FailToLoad"]}}]);