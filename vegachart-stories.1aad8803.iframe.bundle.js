"use strict";(self.webpackChunk_scality_core_ui=self.webpackChunk_scality_core_ui||[]).push([[82304],{"./stories/vegachart.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _src_lib_components_vegachart_VegaChart_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/lib/components/vegachart/VegaChart.component.tsx"),_data_linechart__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./stories/data/linechart.ts"),_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./stories/common.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var spec={data:{values:_data_linechart__WEBPACK_IMPORTED_MODULE_2__.p},encoding:{x:{field:"time",type:"temporal",timeUnit:"yearmonthdatehoursminutes",title:"time"},tooltip:[{field:"time",type:"temporal",timeUnit:"yearmonthdatehoursminutes"},{field:"total_space",type:"quantitative",title:"TOTAL SPACE"},{field:"used_space",type:"quantitative",title:"USED SPACE"}]},layer:[{mark:{type:"line",color:"green"},encoding:{y:{field:"total_space",type:"quantitative",title:"TOTAL SPACE (GB)"}}},{mark:{type:"line",color:"orange"},encoding:{y:{field:"used_space",type:"quantitative",title:"USED SPACE (GB)"}}},{mark:"rule",selection:{index:{type:"single",on:"mousemove",encodings:["x"],nearest:!0}},encoding:{color:{condition:{selection:{not:"index"},value:"transparent"}}}}]};const __WEBPACK_DEFAULT_EXPORT__={parameters:{storySource:{source:"import React from 'react';\nimport { VegaChart } from '../src/lib/components/vegachart/VegaChart.component';\nimport { data } from './data/linechart';\nimport { Wrapper, Title } from './common';\nconst spec = {\n  data: {\n    values: data,\n  },\n  encoding: {\n    x: {\n      field: 'time',\n      type: 'temporal',\n      timeUnit: 'yearmonthdatehoursminutes',\n      title: 'time',\n    },\n    tooltip: [\n      {\n        field: 'time',\n        type: 'temporal',\n        timeUnit: 'yearmonthdatehoursminutes',\n      },\n      {\n        field: 'total_space',\n        type: 'quantitative',\n        title: 'TOTAL SPACE',\n      },\n      {\n        field: 'used_space',\n        type: 'quantitative',\n        title: 'USED SPACE',\n      },\n    ],\n  },\n  layer: [\n    {\n      mark: {\n        type: 'line',\n        color: 'green',\n      },\n      encoding: {\n        y: {\n          field: 'total_space',\n          type: 'quantitative',\n          title: 'TOTAL SPACE (GB)',\n        },\n      },\n    },\n    {\n      mark: {\n        type: 'line',\n        color: 'orange',\n      },\n      encoding: {\n        y: {\n          field: 'used_space',\n          type: 'quantitative',\n          title: 'USED SPACE (GB)',\n        },\n      },\n    },\n    {\n      mark: 'rule',\n      selection: {\n        index: {\n          type: 'single',\n          on: 'mousemove',\n          encodings: ['x'],\n          nearest: true,\n        },\n      },\n      encoding: {\n        color: {\n          condition: {\n            selection: {\n              not: 'index',\n            },\n            value: 'transparent',\n          },\n        },\n      },\n    },\n  ],\n};\nconst id = 'vis';\nexport default {\n  title: 'Components/Data Display/Charts/VegaChart',\n  component: VegaChart,\n};\nexport const Default = {\n  render: (args) => {\n    return (\n      <Wrapper>\n        <Title>Vega-Lite wrapper - need to specify the entire spec</Title>\n        <VegaChart id={id} spec={spec} {...args} />\n      </Wrapper>\n    );\n  },\n};\n",locationsMap:{default:{startLoc:{col:23,line:89},endLoc:{col:1,line:98},startBody:{col:23,line:89},endBody:{col:1,line:98}}}}},title:"Components/Data Display/Charts/VegaChart",component:_src_lib_components_vegachart_VegaChart_component__WEBPACK_IMPORTED_MODULE_3__.sD};var Default={render:args=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_common__WEBPACK_IMPORTED_MODULE_4__.mO,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_common__WEBPACK_IMPORTED_MODULE_4__.hE,{children:"Vega-Lite wrapper - need to specify the entire spec"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_src_lib_components_vegachart_VegaChart_component__WEBPACK_IMPORTED_MODULE_3__.sD,_objectSpread({id:"vis",spec},args))]})};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  render: args => {\n    return <Wrapper>\n        <Title>Vega-Lite wrapper - need to specify the entire spec</Title>\n        <VegaChart id={id} spec={spec} {...args} />\n      </Wrapper>;\n  }\n}",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]},"./src/lib/components/vegachart/VegaChart.component.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{sD:()=>VegaChart});var _templateObject,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),vega_embed__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/vega-embed/build/src/embed.js"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/lib/utils.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var TOP="top",BOTTOM="bottom",VegaTooltipTheme=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.DU)(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  #vg-tooltip-element.vg-tooltip.custom-theme {\n    padding: 8px;\n    position: fixed;\n    z-index: 1000;\n    font-family: 'Lato';\n    font-size: 12px;\n    border-radius: 3px;\n    box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n    color: ",";\n    background-color: ",";\n    border: 1px solid ",";\n    // customize the title\n    h2 {\n      color: ",";\n      margin-bottom: 10px;\n      font-size: 12px;\n    }\n  }\n"])),(0,_utils__WEBPACK_IMPORTED_MODULE_4__.sP)("textPrimary"),(0,_utils__WEBPACK_IMPORTED_MODULE_4__.sP)("backgroundLevel1"),(0,_utils__WEBPACK_IMPORTED_MODULE_4__.sP)("border"),(0,_utils__WEBPACK_IMPORTED_MODULE_4__.sP)("textSecondary"));function VegaChart(_ref){var{id,spec,tooltipPosition=BOTTOM,theme="custom"}=_ref,themeContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(styled_components__WEBPACK_IMPORTED_MODULE_3__.Dx),currentBackgroundColor=themeContext&&themeContext.brand?themeContext.brand.backgroundLevel4:themeContext.backgroundLevel4,currentBackgroundColor2=themeContext&&themeContext.brand?themeContext.brand.backgroundLevel1:themeContext.backgroundLevel1,brandText=themeContext&&themeContext.brand?themeContext.brand.textPrimary:themeContext.textPrimary,themeConfig={config:{background:currentBackgroundColor,axis:{labelColor:brandText,titleColor:brandText,grid:!1,domainColor:currentBackgroundColor2},title:{color:brandText,font:"Lato"},view:{stroke:"transparent",fill:currentBackgroundColor2},header:{labelColor:brandText},text:{color:brandText,font:"Lato"},rule:{color:brandText},legend:{labelColor:brandText,titleColor:brandText}}},themedSpec=_objectSpread(_objectSpread({},spec),themeConfig),vegaInstance=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),tooltipOptions={theme};return tooltipPosition===TOP&&(tooltipOptions={theme,offsetX:-85,offsetY:-140}),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{var isMounted=!0;return(0,vega_embed__WEBPACK_IMPORTED_MODULE_1__.Ay)("#".concat(id),themedSpec,{renderer:"svg",tooltip:tooltipOptions,actions:!1}).then((result=>{vegaInstance.current=result})).catch((function(){isMounted&&console.error(...arguments)})),()=>{isMounted=!1,vegaInstance.current&&vegaInstance.current.view.finalize()}}),[id,themedSpec,tooltipOptions,vegaInstance]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{id,className:"sc-vegachart",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(VegaTooltipTheme,{})})}VegaChart.displayName="VegaChart";try{VegaChart.displayName="VegaChart",VegaChart.__docgenInfo={description:"",displayName:"VegaChart",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},spec:{defaultValue:null,description:"",name:"spec",required:!0,type:{name:"Record<string, any>"}},tooltipPosition:{defaultValue:{value:"bottom"},description:"",name:"tooltipPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},theme:{defaultValue:{value:"custom"},description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:'"custom"'},{value:'"dark"'},{value:'"light"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/components/vegachart/VegaChart.component.tsx#VegaChart"]={docgenInfo:VegaChart.__docgenInfo,name:"VegaChart",path:"src/lib/components/vegachart/VegaChart.component.tsx#VegaChart"})}catch(__react_docgen_typescript_loader_error){}}}]);