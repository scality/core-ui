"use strict";(self.webpackChunk_scality_core_ui=self.webpackChunk_scality_core_ui||[]).push([[36454],{"./stories/dropzone.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{InlineMultipleFiles:()=>InlineMultipleFiles,InlineSingleFile:()=>InlineSingleFile,LargeMulipleFiles:()=>LargeMulipleFiles,LargeSingleFile:()=>LargeSingleFile,OnlyAcceptsImage:()=>OnlyAcceptsImage,__namedExportsOrder:()=>__namedExportsOrder,default:()=>dropzone_stories});var _templateObject,_templateObject2,_templateObject3,react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-dropzone/dist/es/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),spacing=__webpack_require__("./src/lib/spacing.tsx"),Buttonv2_component=__webpack_require__("./src/lib/components/buttonv2/Buttonv2.component.tsx"),Icon_component=__webpack_require__("./src/lib/components/icon/Icon.component.tsx"),Text_component=__webpack_require__("./src/lib/components/text/Text.component.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["labels","onChange","variant"],_excluded2=["onClick"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var DropzoneContainer=styled_components_browser_esm.Ay.div(_templateObject||(_templateObject=_taggedTemplateLiteral(["\n  padding: ",";\n  border: "," dashed\n    ",";\n  box-sizing: border-box;\n  display: flex;\n  ","\n"])),spacing.YK.r24,spacing.YK.f2,(props=>props.isDragActive?props.theme.selectedActive:props.theme.textSecondary),(props=>"large"===props.variant?"text-align: center;":"")),FileList=styled_components_browser_esm.Ay.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["\n  max-height: 100px;\n  overflow-y: auto;\n  flex: 1;\n  width: 100%;\n"]))),FileListItem=(0,styled_components_browser_esm.Ay)(spacing.B_)(_templateObject3||(_templateObject3=_taggedTemplateLiteral(["\n  align-items: baseline;\n  &:hover {\n    background: ",";\n  }\n"])),(props=>props.theme.selectedActive)),defaultDropzoneLabels={doesnt_meet_our_requirements:"doesn't meet our requirements",or:"OR",label:"Drag and drop files and folders here",buttonLabel:"Add files",buttonAddMoreLabel:"Add more files"};function Dropzone(_ref){var{labels,onChange,variant}=_ref,dropzoneOptions=_objectWithoutProperties(_ref,_excluded);labels=_objectSpread(_objectSpread({},defaultDropzoneLabels),labels);var[acceptedFiles,setAcceptedFiles]=(0,react.useState)([]),{getRootProps,getInputProps,isDragActive,fileRejections}=(0,es.VB)(_objectSpread(_objectSpread({},dropzoneOptions),{},{onDrop:(acceptedFiles,rejectedFiles,e)=>{var{multiple}=dropzoneOptions;setAcceptedFiles((alreadyAcceptedFiles=>{var newAcceptedFiles=!multiple&&1===alreadyAcceptedFiles.length?alreadyAcceptedFiles:[...alreadyAcceptedFiles,...acceptedFiles];return onChange&&onChange(newAcceptedFiles),newAcceptedFiles})),dropzoneOptions.onDrop&&dropzoneOptions.onDrop(acceptedFiles,rejectedFiles,e)}})),{multiple}=dropzoneOptions,_getRootProps=getRootProps(),{onClick}=_getRootProps,rootProps=_objectWithoutProperties(_getRootProps,_excluded2),removeFile=fileIndex=>{setAcceptedFiles((alreadyAcceptedFiles=>{var newAcceptedFiles=[...alreadyAcceptedFiles];return newAcceptedFiles.splice(fileIndex,1),onChange&&onChange(newAcceptedFiles),newAcceptedFiles}))};return(0,jsx_runtime.jsxs)(spacing.BJ,{direction:"vertical",children:[(0,jsx_runtime.jsxs)(DropzoneContainer,_objectSpread(_objectSpread({},rootProps),{},{isDragActive,variant,children:[(0,jsx_runtime.jsx)("input",_objectSpread({},getInputProps())),(0,jsx_runtime.jsx)("div",{style:{flex:"1"},children:multiple||1!==acceptedFiles.length?multiple&&acceptedFiles.length>0?(0,jsx_runtime.jsxs)(spacing.BJ,{direction:"vertical",children:[(0,jsx_runtime.jsx)(Buttonv2_component.$n,{icon:"large"===variant?(0,jsx_runtime.jsx)(Icon_component.In,{name:"Create-add"}):void 0,variant:"secondary",type:"button",label:labels.buttonAddMoreLabel,onClick}),(0,jsx_runtime.jsx)(FileList,{children:acceptedFiles.map(((file,index)=>(0,jsx_runtime.jsxs)(FileListItem,{children:[(0,jsx_runtime.jsx)(Text_component.EY,{children:file.name}),(0,jsx_runtime.jsx)(Buttonv2_component.$n,{icon:(0,jsx_runtime.jsx)(Icon_component.In,{name:"Close"}),tooltip:{overlay:"Remove"},"aria-label":"Remove ".concat(file.name),type:"button",onClick:()=>{removeFile(index)}})]},index)))})]}):(0,jsx_runtime.jsxs)(spacing.BJ,{direction:"large"===variant?"vertical":"horizontal",gap:"f16",children:[(0,jsx_runtime.jsx)(Text_component.EY,{children:(0,jsx_runtime.jsx)(Icon_component.In,{name:"Upload",size:"3x"})}),(0,jsx_runtime.jsx)(Text_component.EY,{children:labels.label}),"large"===variant&&(0,jsx_runtime.jsx)(Text_component.EY,{children:labels.or}),(0,jsx_runtime.jsx)(Buttonv2_component.$n,{icon:"large"===variant?(0,jsx_runtime.jsx)(Icon_component.In,{name:"Create-add"}):void 0,label:labels.buttonLabel,variant:"secondary",type:"button",onClick})]}):(0,jsx_runtime.jsxs)(FileListItem,{children:[(0,jsx_runtime.jsx)(Text_component.EY,{children:acceptedFiles[0].name}),(0,jsx_runtime.jsx)(Buttonv2_component.$n,{icon:(0,jsx_runtime.jsx)(Icon_component.In,{name:"Close"}),tooltip:{overlay:"Remove"},"aria-label":"Remove ".concat(acceptedFiles[0].name),type:"button",onClick:()=>{removeFile(0)}})]})})]})),(0,jsx_runtime.jsx)(Text_component.EY,{variant:"Smaller",isEmphazed:!0,color:"statusCritical",children:fileRejections.length>0?fileRejections.map((rejection=>rejection.file.name))+" "+labels.doesnt_meet_our_requirements:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"Â "})})]})}Dropzone.displayName="Dropzone";try{Dropzone.displayName="Dropzone",Dropzone.__docgenInfo={description:"",displayName:"Dropzone",props:{accept:{defaultValue:null,description:"",name:"accept",required:!1,type:{name:"Accept"}},minSize:{defaultValue:null,description:"",name:"minSize",required:!1,type:{name:"number"}},maxSize:{defaultValue:null,description:"",name:"maxSize",required:!1,type:{name:"number"}},maxFiles:{defaultValue:null,description:"",name:"maxFiles",required:!1,type:{name:"number"}},preventDropOnDocument:{defaultValue:null,description:"",name:"preventDropOnDocument",required:!1,type:{name:"boolean"}},noClick:{defaultValue:null,description:"",name:"noClick",required:!1,type:{name:"boolean"}},noKeyboard:{defaultValue:null,description:"",name:"noKeyboard",required:!1,type:{name:"boolean"}},noDrag:{defaultValue:null,description:"",name:"noDrag",required:!1,type:{name:"boolean"}},noDragEventsBubbling:{defaultValue:null,description:"",name:"noDragEventsBubbling",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onDrop:{defaultValue:null,description:"",name:"onDrop",required:!1,type:{name:"(<T extends File>(acceptedFiles: T[], fileRejections: FileRejection[], event: DropEvent) => void)"}},onDropAccepted:{defaultValue:null,description:"",name:"onDropAccepted",required:!1,type:{name:"(<T extends File>(files: T[], event: DropEvent) => void)"}},onDropRejected:{defaultValue:null,description:"",name:"onDropRejected",required:!1,type:{name:"((fileRejections: FileRejection[], event: DropEvent) => void)"}},getFilesFromEvent:{defaultValue:null,description:"",name:"getFilesFromEvent",required:!1,type:{name:"((event: DropEvent) => Promise<(File | DataTransferItem)[]>)"}},onFileDialogCancel:{defaultValue:null,description:"",name:"onFileDialogCancel",required:!1,type:{name:"(() => void)"}},onFileDialogOpen:{defaultValue:null,description:"",name:"onFileDialogOpen",required:!1,type:{name:"(() => void)"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((err: Error) => void)"}},validator:{defaultValue:null,description:"",name:"validator",required:!1,type:{name:"(<T extends File>(file: T) => FileError | FileError[] | null)"}},useFsAccessApi:{defaultValue:null,description:"",name:"useFsAccessApi",required:!1,type:{name:"boolean"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},variant:{defaultValue:null,description:"",name:"variant",required:!0,type:{name:"enum",value:[{value:'"inline"'},{value:'"large"'}]}},labels:{defaultValue:null,description:"",name:"labels",required:!1,type:{name:"Partial<{ doesnt_meet_our_requirements: string; or: string; label: string; buttonLabel: string; buttonAddMoreLabel: string; }>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((files: File[]) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/components/dropzone/Dropzone.tsx#Dropzone"]={docgenInfo:Dropzone.__docgenInfo,name:"Dropzone",path:"src/lib/components/dropzone/Dropzone.tsx#Dropzone"})}catch(__react_docgen_typescript_loader_error){}var common=__webpack_require__("./stories/common.tsx");function dropzone_stories_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function dropzone_stories_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?dropzone_stories_ownKeys(Object(t),!0).forEach((function(r){dropzone_stories_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dropzone_stories_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function dropzone_stories_defineProperty(obj,key,value){return(key=function dropzone_stories_toPropertyKey(t){var i=function dropzone_stories_toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const dropzone_stories={parameters:{storySource:{source:"import React from 'react';\nimport { Dropzone } from '../src/lib/components/dropzone/Dropzone';\nimport { Wrapper } from './common';\nexport default {\n  title: 'Components/Inputs/Dropzone',\n  component: Dropzone,\n  decorators: [\n    (story) => <Wrapper style={{ minHeight: '10vh' }}>{story()}</Wrapper>,\n  ],\n};\n\nexport const InlineSingleFile = {\n  args: {\n    variant: 'inline',\n    multiple: false,\n  },\n};\n\nexport const InlineMultipleFiles = {\n  args: {\n    variant: 'inline',\n    multiple: true,\n  },\n};\n\nexport const LargeSingleFile = {\n  args: {\n    variant: 'large',\n    multiple: false,\n  },\n};\n\nexport const LargeMulipleFiles = {\n  args: {\n    variant: 'large',\n    multiple: true,\n  },\n};\n\nexport const OnlyAcceptsImage = {\n  ...LargeMulipleFiles,\n  args: {\n    ...LargeMulipleFiles.args,\n    accept: {\n      'image/jpeg': [],\n      'image/png': [],\n    },\n  },\n};\n",locationsMap:{"inline-single-file":{startLoc:{col:32,line:12},endLoc:{col:1,line:17},startBody:{col:32,line:12},endBody:{col:1,line:17}},"inline-multiple-files":{startLoc:{col:35,line:19},endLoc:{col:1,line:24},startBody:{col:35,line:19},endBody:{col:1,line:24}},"large-single-file":{startLoc:{col:31,line:26},endLoc:{col:1,line:31},startBody:{col:31,line:26},endBody:{col:1,line:31}},"large-muliple-files":{startLoc:{col:33,line:33},endLoc:{col:1,line:38},startBody:{col:33,line:33},endBody:{col:1,line:38}},"only-accepts-image":{startLoc:{col:32,line:40},endLoc:{col:1,line:49},startBody:{col:32,line:40},endBody:{col:1,line:49}}}}},title:"Components/Inputs/Dropzone",component:Dropzone,decorators:[story=>(0,jsx_runtime.jsx)(common.mO,{style:{minHeight:"10vh"},children:story()})]};var InlineSingleFile={args:{variant:"inline",multiple:!1}},InlineMultipleFiles={args:{variant:"inline",multiple:!0}},LargeSingleFile={args:{variant:"large",multiple:!1}},LargeMulipleFiles={args:{variant:"large",multiple:!0}},OnlyAcceptsImage=dropzone_stories_objectSpread(dropzone_stories_objectSpread({},LargeMulipleFiles),{},{args:dropzone_stories_objectSpread(dropzone_stories_objectSpread({},LargeMulipleFiles.args),{},{accept:{"image/jpeg":[],"image/png":[]}})});InlineSingleFile.parameters={...InlineSingleFile.parameters,docs:{...InlineSingleFile.parameters?.docs,source:{originalSource:"{\n  args: {\n    variant: 'inline',\n    multiple: false\n  }\n}",...InlineSingleFile.parameters?.docs?.source}}},InlineMultipleFiles.parameters={...InlineMultipleFiles.parameters,docs:{...InlineMultipleFiles.parameters?.docs,source:{originalSource:"{\n  args: {\n    variant: 'inline',\n    multiple: true\n  }\n}",...InlineMultipleFiles.parameters?.docs?.source}}},LargeSingleFile.parameters={...LargeSingleFile.parameters,docs:{...LargeSingleFile.parameters?.docs,source:{originalSource:"{\n  args: {\n    variant: 'large',\n    multiple: false\n  }\n}",...LargeSingleFile.parameters?.docs?.source}}},LargeMulipleFiles.parameters={...LargeMulipleFiles.parameters,docs:{...LargeMulipleFiles.parameters?.docs,source:{originalSource:"{\n  args: {\n    variant: 'large',\n    multiple: true\n  }\n}",...LargeMulipleFiles.parameters?.docs?.source}}},OnlyAcceptsImage.parameters={...OnlyAcceptsImage.parameters,docs:{...OnlyAcceptsImage.parameters?.docs,source:{originalSource:"{\n  ...LargeMulipleFiles,\n  args: {\n    ...LargeMulipleFiles.args,\n    accept: {\n      'image/jpeg': [],\n      'image/png': []\n    }\n  }\n}",...OnlyAcceptsImage.parameters?.docs?.source}}};const __namedExportsOrder=["InlineSingleFile","InlineMultipleFiles","LargeSingleFile","LargeMulipleFiles","OnlyAcceptsImage"]}}]);